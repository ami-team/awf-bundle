(()=>{"use strict";$AMIClass("DashboardBoxCtrl",{$extends:ami.Control,$init:function(t,e){this.$super.$init(t,e)},onReady:function(){const t=$.Deferred();return amiWebApp.appendHTML("body",'<div class="modal fade" data-backdrop="static" role="dialog" id="C5E27E1F_DEB1_DE92_1301_898529832194">\n\t<div class="modal-dialog modal-xl" role="document">\n\t\t<div class="modal-content">\n\t\t\t<div class="modal-header">\n\t\t\t\t<h4 class="modal-title"><i class="bi bi-speedometer"></i> Append to Dashboard</h4>\n\t\t\t</div>\n\t\t\t<div class="modal-body">\n\t\t\t\t<div class="mb-2">\n\t\t\t\t\t<label class="form-label" for="CA1C2B9C_C66E_16A4_0192_95704C27B6E2">Dashboard name<sup class="text-danger">*</sup></label>\n\t\t\t\t\t<select class="form-select form-select-sm" id="CA1C2B9C_C66E_16A4_0192_95704C27B6E2"></select>\n\t\t\t\t</div>\n\t\t\t\t<div class="mb-2">\n\t\t\t\t\t<label class="form-label" for="A7003C5D_0A5C_08A2_DAD9_3EC577328D43">JSON <button class="btn btn-sm btn-primary" data-bs-toggle="collapse" data-bs-target="#CC011903_7C42_70CF_25CD_DE594C3E23C5">view/hide</button></label>\n\t\t\t\t\t<div class="collapse show" id="CC011903_7C42_70CF_25CD_DE594C3E23C5">\n\t\t\t\t\t\t<select class="form-editor" data-lang="json" id="A7003C5D_0A5C_08A2_DAD9_3EC577328D43"></select>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<div class="mb-2">\n\t\t\t\t\t<label class="form-label" for="DDC88FB6_C193_9C60_53CE_85D885BD42F7">Transparent widget<sub class="text-danger">*</sub></label>\n\t\t\t\t\t<div class="switch switch-sm switch-off-primary switch-on-success">\n\t\t\t\t\t\t<input type="checkbox" id="DDC88FB6_C193_9C60_53CE_85D885BD42F7">\n\t\t\t\t\t\t<label for="DDC88FB6_C193_9C60_53CE_85D885BD42F7">\n\t\t\t\t\t\t\t<span class="text-primary">no</span>\n\t\t\t\t\t\t\t/\n\t\t\t\t\t\t\t<span class="text-success">yes</span>\n\t\t\t\t\t\t</label>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t<div class="modal-footer">\n\t\t\t\t<button type="button" class="btn btn-outline-secondary" id="D5C96872_D545_4B33_ECD9_55EC32E1703E">Close</button>\n\t\t\t\t-\n\t\t\t\t<button type="button" class="btn btn-success" id="E335D6CC_ADA1_92CF_1C64_F446B27B5F93">Add Widget</button>\n\t\t\t</div>\n\t\t</div>\n\t</div>\n</div>\n').done((()=>{const e=this.$class;$("#D5C96872_D545_4B33_ECD9_55EC32E1703E").on("click",(()=>{amiWebApp.modalLeave(),$("#C5E27E1F_DEB1_DE92_1301_898529832194").modal("hide"),e.deferred.resolveWith(e.context||e.deferred,[null])})),$("#E557D8C7_CBA2_3E32_4861_A2A7A81A9D14").on("click",(()=>{const t=$("#CA1C2B9C_C66E_16A4_0192_95704C27B6E2").val().trim(),s=$("#DDC88FB6_C193_9C60_53CE_85D885BD42F7").prop("checked")?"1":"0";if(t){const a={control:e.control,userdata:JSON.stringify(e.userdata)};amiWebApp.lock(),amiCommand.execute("AddDashboard -hash=? -transparent=? -json=?",{params:[t,s,JSON.stringify(a)]}).done((()=>{amiLogin.update().always((()=>{amiWebApp.unlock(),amiWebApp.modalLeave(),$("#C5E27E1F_DEB1_DE92_1301_898529832194").modal("hide"),e.deferred.rejectWith(e.context||e.deferred,[name])}))})).fail(((t,e)=>{amiWebApp.error(e,!0)}))}})),t.resolve()})),t},render:function(t,e,s){const a=$.Deferred(),[n,l]=amiWebApp.setup(["context","hash"],[a,""],s);let o;try{o="Object"===amiWebApp.typeOf(e)?e:JSON.parse(e)}catch(t){o={}}return $("#CA1C2B9C_C66E_16A4_0192_95704C27B6E2").val(l||""),$("#A7003C5D_0A5C_08A2_DAD9_3EC577328D43").val(JSON.stringify(o,null,2)||"{}"),$("#CC011903_7C42_70CF_25CD_DE594C3E23C5").collapse("show"),$("#C5E27E1F_DEB1_DE92_1301_898529832194").modal("show"),this.$class.deferred=a,this.$class.context=n,this.$class.control=t,this.$class.userdata=o,amiWebApp.modalEnter(),a.promise()},show:function(t,e){return this.render(t,e)}})})();