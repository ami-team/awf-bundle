(()=>{"use strict";$AMIClass("TableViewerApp",{$extends:ami.SubApp,$init:function(){this.$super.$init()},onReady:function(){const t=$.Deferred();return amiWebApp.loadResources(["ctrl:table"]).done((e=>{amiWebApp.replaceHTML("#ami_main_content",'<div class="px-3 pb-2" id="A2944C0A_9249_E4D2_3679_494C1A3AAAF0"></div>\n').done((()=>{this._table=new e[0],t.resolve()}))})).fail((e=>{t.reject(e)})),t},onLogin:function(t){const e=$.Deferred();let i;try{i=JSON.parse(t||"{}")}catch(t){i={}}return this.setupCtx({showDetails:!0,card:!0},null,i),this.ctx.catalog&&this.ctx.entity?this._table.render("#A2944C0A_9249_E4D2_3679_494C1A3AAAF0",(this.ctx.command||"").trim()||`BrowseQuery -catalog="${amiWebApp.textToString(this.ctx.catalog)}" -entity="${amiWebApp.textToString(this.ctx.entity)}" -mql="SELECT * WHERE ${amiWebApp.textToString((this.ctx.expression||"").trim()||"1 = 1")}"`,this.ctx).done((()=>{amiWebApp.flush(),e.resolve()})).fail((t=>{e.reject(t)})):e.reject("Missing parameters: catalog, entity"),e},onLogout:function(){$("#A2944C0A_9249_E4D2_3679_494C1A3AAAF0").html("Please sign-in.")}}),window.tableViewerApp=new TableViewerApp})();